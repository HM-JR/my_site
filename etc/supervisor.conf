[program:celery-beat]
command=/opt/django/venv/bin/celery beat -A my_site -l info
process_name=my_site-celery-beat-%(process_num)02d ; process_name expr (default %(program_name)s)
numprocs=1
directory=/opt/django/project                ; directory to cwd to before exec (def no cwd)
user=root
autostart=true                ; start at supervisord start (default: true)
startsecs=1                   ; # of secs prog must stay up to be running (def. 1)
startretries=3                ; max # of serial start failures when starting (default 3)
stdout_logfile=/opt/django/logs/supervisor_beat_out.log        ; stdout log path, NONE for none; default AUTO
stdout_logfile_maxbytes=5MB   ; max # logfile bytes b4 rotation (default 50MB)
stdout_logfile_backups=10     ; # of stdout logfile backups (default 10)
;stdout_capture_maxbytes=1MB   ; number of bytes in 'capturemode' (default 0)
;stdout_events_enabled=false   ; emit events on stdout writes (default false)
stderr_logfile=/opt/django/logs/supervisor_beat_err.log        ; stderr log path, NONE for none; default AUTO
stderr_logfile_maxbytes=50MB   ; max # logfile bytes b4 rotation (default 50MB)
stderr_logfile_backups=10     ; # of stderr logfile backups (default 10)

[program:celery-worker]
command=/opt/django/venv/bin/celery worker -A my_site -l info -c 1
process_name=my_site-celery-worker-%(process_num)02d ; process_name expr (default %(program_name)s)
numprocs=2
directory=/opt/django/project                ; directory to cwd to before exec (def no cwd)
user=root
autostart=true                ; start at supervisord start (default: true)
startsecs=1                   ; # of secs prog must stay up to be running (def. 1)
startretries=3                ; max # of serial start failures when starting (default 3)
stdout_logfile=/opt/django/logs/supervisor_worker_out.log        ; stdout log path, NONE for none; default AUTO
stdout_logfile_maxbytes=5MB   ; max # logfile bytes b4 rotation (default 50MB)
stdout_logfile_backups=10     ; # of stdout logfile backups (default 10)
stderr_logfile=/opt/django/logs/supervisor_worker_err.log        ; stderr log path, NONE for none; default AUTO
stderr_logfile_maxbytes=50MB   ; max # logfile bytes b4 rotation (default 50MB)
stderr_logfile_backups=10     ; # of stderr logfile backups (default 10)
