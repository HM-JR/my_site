{% extends "base.html" %}
{% load bootstrap_pagination %}

{% block title %}
  {% if is_home %}
    杨学峰博客
  {% endif %}
  {% if is_arch_month %}
    杨学峰博客 | {{ year }}年 | {{ month }}月
  {% endif%}
  {% if is_classfi  %}
    杨学峰博客 | {{classfi}}
  {% endif%}
  {% if is_tag  %}
    杨学峰博客 | {{tag}}
  {% endif%}
  {% if is_search  %}
    杨学峰博客 | 查找有关{{s}}的文章
  {% endif %}
{% endblock %}

{% block banner %}
  {% if is_home and carouse_imgs %}
    <div class="swiper-container hidden-xs" style="border-radius:5px">
      <div class="swiper-wrapper">
        {% for img in carouse_imgs %}
          <div class="swiper-slide">
            <a href="{{ img.link|default:'javascript:;' }}">
              <img src="{{ img.path }}" alt="{{ img.description }}" />
            </a>
          </div>
        {% endfor %}
      </div>
      <!-- 如果需要分页器 -->
      <div class="swiper-pagination"></div>

      <!-- 如果需要导航按钮 -->
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  {% endif%}
{% endblock %}

{% block path %}
  {% if is_home %}
    当前位置&nbsp;:&nbsp;首页
  {% endif%}

  {% if is_arch_month %}
    当前位置&nbsp;:&nbsp;<a href = "{% url 'home'%}">首页&nbsp;</a>»&nbsp;按月归档&nbsp;:&nbsp;{{year}}年{{month}}月
  {% endif%}

  {% if  is_classfi  %}
    当前位置&nbsp;:&nbsp;<a href = "{% url 'home'%}">首页&nbsp;</a>»&nbsp;文章分类&nbsp;:&nbsp;{{classfi}}
  {% endif%}

  {% if  is_tag  %}
    当前位置&nbsp;:&nbsp;<a href = "{% url 'home'%}">首页&nbsp;</a>»&nbsp;标签&nbsp;:&nbsp;{{tag}}
  {% endif%}

  {% if  is_search  %}
    当前位置&nbsp;:&nbsp;<a href = "{% url 'home'%}">首页&nbsp;</a>»&nbsp;搜索&nbsp;:&nbsp;{{s}}{{tag}}
  {% endif%}
{% endblock %}

{% block content %}
  {% if error %}
    <h4 style="color: silver;">没有相关文章题目</h4>
  {% else %}
    <span id="itemContainer">
      {% for article in articles %}
        <div class="archive">
          <div id="archives">
            <header class="entry-header">
              <div class="entry-info">
                <span class="entry-date">
                  <span class="fa fa-calendar" aria-hidden="true"></span>
                  {{ article.publish_time|date:'Y年m月d日' }}
                </span>
                <span class="author vcard">
                  <span class="fa fa-user" aria-hidden="true"></span>
                  {{ article.author }}
                </span>
                <span class="pull-right">
                  <span class="fa fa-eye" aria-hidden="true">&nbsp;阅读:&nbsp;</span>{{ article.count }}
                </span>
              </div>

              <h1 class="entry-title">
                <a href="{{ article.get_absolute_url }}" rel="bookmark">
                  {{ article.title }}
                </a>
              </h1>
              <!--<div class="post-format-indicator">
                <a class="entry-format" href="{{ article.get_absolute_url }}"></a>
              </div>-->
            </header>

            <div class="entry-content">
              <p class="MsoNormal">
                {{ article.content|truncatewords_html:20|safe }}
              </p>
              <div class="clearfix"></div>
            </div>

            <footer class="entry-meta" style="padding:10px 0; margin-top:10px;">
              <span class="entry-categories">
                <span class="fa fa-suitcase" aria-hidden="true"></span>
                <a href="{% url 'classfiDetail' classfi=article.classification %}" rel="category">{{article.classification}}</a>
              </span>
              <span class="entry-tags">
                <span class="fa fa-tags" aria-hidden="true"></span>
                {% for i in article.get_tags %}
                  <a href="{{ i.get_absolute_url }}" rel="tag"> {{i}}&nbsp;&nbsp;</a>
                {% endfor %}
              </span>
              <a href="{{ article.get_absolute_url }}" class="more-link">
                <span class="fa fa-link" aria-hidden="true"></span>
                阅读全文
              </a>
            </footer>
          </div>
        </div>
      {% endfor%}
      <div class="paginate">
        {% bootstrap_paginate articles url_extra_args=params range=5 show_first_last="true" %}
      </div>
    </span>
  {% endif %}
  <script type="text/javascript">
    $(function(){
      var mySwiper = new Swiper ('.swiper-container', {
        direction: 'horizontal', // 水平切换选项
        loop: true, // 循环模式选项
        autoplay: true,  // 自动切换
        autoplay: {
          disableOnInteraction: false,
        },
        // 如果需要分页器
        pagination: {
          el: '.swiper-pagination',
          clickable :true, // 导航按钮可以点击
        },
        // 如果需要前进后退按钮
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
      })
    });
  </script>
{% endblock %}

{% block side %}
	{% include "blog/_side.html" %}
{% endblock %}
