{% extends "base.html" %}
{% load bootstrap_pagination %}

{% block title %}
  {% if is_home %}
    Daniel的小站
  {% endif %}
  {% if is_arch_month %}
    {{ year }}年 | {{ month }}月
  {% endif%}
  {% if is_classfi  %}
    {{classfi}}
  {% endif%}
  {% if is_tag  %}
    {{tag}}
  {% endif%}
  {% if is_search  %}
    查找有关{{s}}的文章
  {% endif %}
{% endblock %}
{% block path %}
  {% if is_home %}
    当前位置&nbsp;:&nbsp;首页
  {% endif%}

  {% if is_arch_month %}
    当前位置&nbsp;:&nbsp;<a href = "{% url 'home'%}">首页&nbsp;</a>»&nbsp;按月归档&nbsp;:&nbsp;{{year}}年{{month}}月
  {% endif%}

  {% if  is_classfi  %}
    当前位置&nbsp;:&nbsp;<a href = "{% url 'home'%}">首页&nbsp;</a>»&nbsp;文章分类&nbsp;:&nbsp;{{classfi}}
  {% endif%}

  {% if  is_tag  %}
    当前位置&nbsp;:&nbsp;<a href = "{% url 'home'%}">首页&nbsp;</a>»&nbsp;标签&nbsp;:&nbsp;{{tag}}
  {% endif%}

  {% if  is_search  %}
    当前位置&nbsp;:&nbsp;<a href = "{% url 'home'%}">首页&nbsp;</a>»&nbsp;搜索&nbsp;:&nbsp;{{s}}{{tag}}
  {% endif%}
{% endblock %}

{% block content %}
  <!--重写分页样式-->
  <style>
    .pagination > li > a,
    .pagination > li > span {
      padding: 5px 10px;
      font-size: 12px;
    }
    .pagination > li:first-child > a,
    .pagination > li:first-child > span {
      border-top-left-radius: 3px;
      border-bottom-left-radius: 3px;
    }
    .pagination > li:last-child > a,
    .pagination > li:last-child > span {
      border-top-right-radius: 3px;
      border-bottom-right-radius: 3px;
    }
  </style>
  {% if error %}
    <h4 style="color: silver;">没有相关文章题目</h4>
  {% else %}
    <span id="itemContainer">
      {% for article in articles %}
        <div class="archive">
          <div id="archives">
            <header class="entry-header">
              <div class="entry-info">
                <span class="entry-date">
                  <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
                  {{ article.publish_time|date:'Y年m月d日' }}
                </span>
                <span class="author vcard">
                  <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                  {{ article.author }}
                </span>
              </div>

              <h1 class="entry-title">
                <a href="{{ article.get_absolute_url }}" style="color: blue" rel="bookmark">
                  {{ article.title }}
                </a>
              </h1>
              <div class="post-format-indicator">
                <a class="entry-format" href="{{ article.get_absolute_url }}"></a>
              </div>
            </header>

            <div class="entry-content">
              <p class="MsoNormal">
                {{ article.content|truncatewords_html:40|safe }}
              </p>
              <div class="clearfix"></div>
            </div>

            <footer class="entry-meta">
              <span class="entry-categories">
                <span class="glyphicon glyphicon-folder-close" aria-hidden="true"></span>
                <a href="{% url 'classfiDetail' classfi=article.classification %}" rel="category">{{article.classification}}</a>
              </span>
              <span class="entry-tags">
                <span class="glyphicon glyphicon-tags" aria-hidden="true"></span>
                {% for i in article.get_tags %}
                  <a href="{{ i.get_absolute_url }}" rel="tag"> {{i}}&nbsp;&nbsp;</a>
                {% endfor %}
              </span>
              <a href="{{ article.get_absolute_url }}" class="more-link"><span class="glyphicon glyphicon-link" aria-hidden="true"></span>  阅读全文</a>
            </footer>
          </div>
        </div>
      {% endfor%}
      <div class="pull-right">
        {% bootstrap_paginate articles url_extra_args=params range=10 show_first_last="true" %}
      </div>
    </span>

  {% endif %}
  <script type="text/javascript">
    $(function(){

    });
  </script>
{% endblock %}

{% block side %}
	{% include "blog/_side.html" %}
{% endblock %}
